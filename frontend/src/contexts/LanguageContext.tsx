import React, { createContext, useContext, useState, ReactNode } from 'react';type Language = 'ja' | 'vi';interface LanguageContextType {  language: Language;  setLanguage: (lang: Language) => void;  t: (key: string) => string;}const translations = {  ja: {    appName: 'EduApproach',    tagline: 'あなたのクラスに合った方法',    login: 'ログイン',    signup: 'サインアップ',    email: 'メール',    password: 'パスワード',    confirmPassword: 'パスワードを再度入力',    name: '氏名',    location: '所属機関',    studentId: '学生ID',    selfIntro: 'プロフィールの自己紹介',    profileImage: 'プロフィール画像設定エリア',    updateImage: '画像を更新',    deleteImage: '画像を削除',    signInWithGoogle: 'Googleでログイン',    signUpWithGoogle: 'Googleでサインアップ',    signUpTitle: 'アカウントを作成',    signUpSubtitle: 'このアプリケーションを利用するために、アカウントを作成してください',    loginTitle: 'アカウントでログイン',    loginSubtitle: 'メールアドレスとパスワードを入力してログインしてください',    signUpButton: 'メールアドレスで登録',    loginButton: 'ログインする',    terms: '続けることで、利用規約とプライバシーポリシーに同意したものとみなされます',    enterEmail: 'Enter your email to sign up for this app',    enterEmailLogin: 'Enter your email & password to sign in',    noAccount: 'アカウントをお持ちではありませんか？',    userRole: 'ユーザータイプ',    teacher: '教師',    student: '学生',    welcome: 'ようこそ',    dashboardDescription: '自分の性格に関するAI評価の情報を確認できます。ここから、クイズ一覧画面や個人情報画面に遷移することができます。',    allQuizzes: 'すべてのクイズセット',    profile: 'プロフィール',    logout: 'ログアウト',    statistics: '統計プロフィール',    noQuizzes: 'クイズがありません',    questions: '問',    minutes: '分',    completed: '完了',    notCompleted: '未完了',    userProfileArea: 'ユーザープロフィールエリア',    goToProfile: '学生プロフィール画面へ遷移',    backToDashboard: 'ダッシュボードに戻る',    allQuizSets: 'すべてのクイズセット',    allQuizSetsDescription: '利用可能な全ての評価クイズ',    completedOn: '実施済',    viewResult: '結果を見る',    retake: '再受験',    takeQuiz: 'クイズを受ける',    question: '質問',    of: '/',    complete: '完了',    answered: '回答済み',    previous: '前へ',    next: '次へ',    submit: '提出する',    submitting: '提出中',    confirmExit: 'クイズを終了しますか？進行状況は保存されません。',    confirmSubmitIncomplete: 'すべての質問に答えていません。提出しますか？',    loading: '読み込み中',    scoring: '採点中',    congratulations: 'おめでとうございます！',    yourType: 'あなたのタイプは',    accuracy: '正解率',    scoreCard: 'スコアカード',    testResults: 'テスト結果',    correctAnswers: '正解数',    totalQuestions: '総問題数',    percentage: '正解率',    suggestions: '提案セクション',    viewOtherQuizzes: '他のクイズを見る',    backToDashboardBtn: 'ダッシュボードに戻る',    noResultsFound: '結果が見つかりません',    backToQuizList: 'クイズ一覧に戻る',    neuroticism: '神経症傾向',    extraversion: '外向性',    openness: '開放性',    agreeableness: '協調性',    conscientiousness: '誠実性',    emotional: '感情的',    extroverted: '外向的',    creative: '創造的',    cooperative: '協調的',    organized: '几帳面',    edit: '編集',    save: '保存',    cancel: 'キャンセル',    saving: '保存中',    deleteAccount: 'アカウントを削除',    personalityTypeInfo: '性格タイプ情報',    saveChanges: '変更を保存',    searchClass: 'クラスを検索',    createClass: 'クラス作成',    noClasses: 'クラスがありません',    createFirstClass: '最初のクラスを作成',    students: '学生',    noDescription: '説明なし',    back: '戻る',    classNotFound: 'クラスが見つかりません',    searchStudent: '学生を検索',    invalidEmail: '無効なメールアドレス',    emailAlreadyAdded: 'このメールアドレスは既に追加されています',    classNameRequired: 'クラス名は必須です',    noSearchResults: '検索結果が見つかりません',    showingStudents: '{{showing}}名中{{total}}名を表示中',    noStudents: '学生がいません',    active: 'アクティブ',    phone: '電話',    classAnalysis: 'クラス分析',    editClass: 'クラスを編集',    studentNotFound: '学生が見つかりません',    studentSummary: '学生サマリー',    characterType: 'キャラクタータイプ',    completedQuizzes: '完了したクイズ',    latestScore: '最新スコア',    oceanScores: 'OCEANスコア',    proposedApproach: '提案アプローチ',    action1: 'アクション1',    action2: 'アクション2',    noQuizResults: 'クイズ結果がありません',    quizSets: 'クイズセット',    comparedToLastWeek: '先週比',    logicalAverage: '論理テスト平均',    studentDistribution: '学生分布',    noData: 'データがありません',    generalApproach: '一般的なアプローチ',    oceanAverages: 'OCEAN平均',    newClass: '新しいクラス',    creating: '作成中...',    createClassFailed: 'クラス作成に失敗しました',    classInformationForm: 'クラス情報入力フォーム',    className: 'クラス名',    enterClassName: 'クラス名を入力',    teacherName: '担当教師',    enterTeacherName: '教師名を入力',    classDescription: 'クラス説明',    enterClassDescription: 'クラスの説明を入力',    institution: '所属',    enterInstitution: '所属を入力',    addStudents: '学生を追加',    addStudentByEmail: 'メールで学生を追加',    enterEmailAddress: 'メールアドレスを入力',    addStudent: '学生を追加',    addStudentByStudentId: '学生IDで学生を追加',    enterStudentId: '学生IDを入力',    addedStudents: '追加された学生',    updateClassSuccess: 'クラスを更新しました',    updateClassFailed: 'クラス更新に失敗しました',    studentsNotFound: '見つからない学生',    analysisNotFound: '分析データが見つかりません',    teacherProfile: '教師プロフィール',    signOut: 'サインアウト',    browse: '閲覧',    class: 'クラス',    affiliation: '所属',    language: '言語',    showing: 'を表示中',    removeStudents: '学生を削除',    removeStudentByEmail: 'メールで学生を削除',    removeStudentByStudentId: '学生IDで学生を削除',    removeStudent: '学生を削除',    removing: '削除中...',    studentRemovedSuccess: '学生を削除しました',    studentRemovedFailed: '学生の削除に失敗しました',    removedStudentsCount: '削除された学生数',    registerSuccess: '登録が完了しました！ホームページに移動します。',    registerFailed: '登録に失敗しました',    loginFailed: 'ログインに失敗しました',    loginSuccess: 'ログインに成功しました',    saveSuccess: '保存しました',    saveFailed: '保存に失敗しました',    deleteSuccess: '削除しました',    deleteFailed: '削除に失敗しました',    updateSuccess: '更新しました',    updateFailed: '更新に失敗しました',    createSuccess: '作成しました',    createFailed: '作成に失敗しました',    loadFailed: '読み込みに失敗しました',    submitSuccess: '提出しました',    submitFailed: '提出に失敗しました',    accountDeleted: 'アカウントを削除しました',    accountDeleteFailed: 'アカウントの削除に失敗しました',    imageUploadOnly: '画像ファイルのみアップロードできます',    imageSizeLimit: 'ファイルサイズは5MB以下である必要があります',    imageReadFailed: '画像の読み込みに失敗しました',    imageDeleted: '画像を削除しました',    imageDeleteFailed: '画像の削除に失敗しました',    quizLoadFailed: 'クイズの読み込みに失敗しました',    quizSubmitFailed: 'クイズの提出に失敗しました',    resultNotFound: '結果が見つかりません',    aiRecommendationGenerated: 'AI推奨を生成しました！',    aiRecommendationFailed: 'AI推奨の生成に失敗しました',    studentIdRequired: '学生IDが必要です',    nameRequired: '名前が必要です',    genderRequired: '性別を選択してください',    passwordRequired: 'パスワードが必要です',    confirmPasswordRequired: 'パスワードの確認が必要です',    passwordsNotMatch: 'パスワードが一致しません',    emailRequired: 'メールアドレスが必要です',    unknownError: '不明なエラーが発生しました',    authenticationFailed: '認証に失敗しました',    noTokenReceived: 'トークンが受信されませんでした',    failedToGetUserInfo: 'ユーザー情報の取得に失敗しました',    googleLoginFailed: 'Googleログインに失敗しました',    registrationCompleted: '登録が完了しました',    registrationFailed: '登録に失敗しました',    emailFormatInvalid: 'メールアドレスの形式が正しくありません。@を含める必要があります',    passwordMinLength: 'パスワードは6文字以上である必要があります',  },  vi: {    appName: 'EduApproach',    tagline: 'Phương pháp phù hợp với lớp học của bạn',    login: 'Đăng nhập',    signup: 'Đăng ký',    email: 'Email',    password: 'Mật khẩu',    confirmPassword: 'Xác nhận mật khẩu',    name: 'Họ và tên',    location: 'Tổ chức',    studentId: 'Mã sinh viên',    selfIntro: 'Giới thiệu bản thân',    profileImage: 'Ảnh đại diện',    updateImage: 'Cập nhật ảnh',    deleteImage: 'Xóa ảnh',    signInWithGoogle: 'Đăng nhập với Google',    signUpWithGoogle: 'Đăng ký với Google',    signUpTitle: 'Tạo tài khoản',    signUpSubtitle: 'Vui lòng tạo tài khoản để sử dụng ứng dụng này',    loginTitle: 'Đăng nhập tài khoản',    loginSubtitle: 'Vui lòng nhập email và mật khẩu để đăng nhập',    signUpButton: 'Đăng ký bằng email',    loginButton: 'Đăng nhập',    terms: 'Bằng cách tiếp tục, bạn đồng ý với Điều khoản dịch vụ và Chính sách bảo mật của chúng tôi',    enterEmail: 'Nhập email của bạn để đăng ký ứng dụng này',    enterEmailLogin: 'Nhập email và mật khẩu để đăng nhập',    noAccount: 'Chưa có tài khoản?',    userRole: 'Vai trò',    teacher: 'Giáo viên',    student: 'Học sinh',    welcome: 'Chào mừng',    dashboardDescription: 'Bạn có thể xác nhận thông tin đánh giá AI về tính cách của mình. Từ đây, bạn có thể chuyển đến màn hình danh sách bài quiz hoặc màn hình thông tin cá nhân.',    allQuizzes: 'Tất cả bài kiểm tra',    profile: 'Hồ sơ',    logout: 'Đăng xuất',    statistics: 'Thống kê hồ sơ',    noQuizzes: 'Không có bài kiểm tra',    questions: 'câu hỏi',    minutes: 'phút',    completed: 'Hoàn thành',    notCompleted: 'Chưa hoàn thành',    userProfileArea: 'Khu vực hồ sơ người dùng',    goToProfile: 'Đến trang hồ sơ học sinh',    backToDashboard: 'Quay lại Dashboard',    allQuizSets: 'Tất cả bài kiểm tra',    allQuizSetsDescription: 'Tất cả các bài kiểm tra đánh giá có sẵn',    completedOn: 'Đã làm vào',    viewResult: 'Xem kết quả',    retake: 'Làm lại',    takeQuiz: 'Bắt đầu làm bài',    question: 'Câu hỏi',    of: '/',    complete: 'Hoàn thành',    answered: 'Đã trả lời',    previous: 'Trước',    next: 'Tiếp theo',    submit: 'Nộp bài',    submitting: 'Đang nộp',    confirmExit: 'Bạn có muốn thoát bài kiểm tra? Tiến độ sẽ không được lưu.',    confirmSubmitIncomplete: 'Bạn chưa trả lời hết các câu hỏi. Bạn có muốn nộp bài?',    loading: 'Đang tải',    scoring: 'Đang chấm điểm',    congratulations: 'Chúc mừng!',    yourType: 'Loại tính cách của bạn là',    accuracy: 'Độ chính xác',    scoreCard: 'Bảng điểm',    testResults: 'Kết quả kiểm tra',    correctAnswers: 'Số câu đúng',    totalQuestions: 'Tổng số câu',    percentage: 'Tỷ lệ đúng',    suggestions: 'Gợi ý',    viewOtherQuizzes: 'Xem các bài kiểm tra khác',    backToDashboardBtn: 'Quay lại Dashboard',    noResultsFound: 'Không tìm thấy kết quả',    backToQuizList: 'Quay lại danh sách bài kiểm tra',    neuroticism: 'Tính dễ lo âu',    extraversion: 'Hướng ngoại',    openness: 'Cởi mở',    agreeableness: 'Tính hòa đồng',    conscientiousness: 'Tận tâm',    emotional: 'Cảm xúc',    extroverted: 'Hướng ngoại',    creative: 'Sáng tạo',    cooperative: 'Hợp tác',    organized: 'Có tổ chức',    edit: 'Chỉnh sửa',    save: 'Lưu',    cancel: 'Hủy',    saving: 'Đang lưu',    deleteAccount: 'Xóa tài khoản',    personalityTypeInfo: 'Thông tin loại tính cách',    saveChanges: 'Lưu thay đổi',    searchClass: 'Tìm kiếm lớp học',    createClass: 'Tạo lớp',    noClasses: 'Không có lớp học',    createFirstClass: 'Tạo lớp đầu tiên',    students: 'Sinh viên',    noDescription: 'Không có mô tả',    back: 'Quay lại',    classNotFound: 'Không tìm thấy lớp học',    invalidEmail: 'Email không hợp lệ',    emailAlreadyAdded: 'Email đã được thêm',    classNameRequired: 'Tên lớp học là bắt buộc',    noSearchResults: 'Không tìm thấy kết quả',    searchStudent: 'Tìm kiếm sinh viên',    showingStudents: 'Đang hiển thị {{showing}}/{{total}} sinh viên',    noStudents: 'Không có sinh viên',    active: 'Hoạt động',    phone: 'Điện thoại',    classAnalysis: 'Phân tích lớp học',    editClass: 'Chỉnh sửa lớp',    studentNotFound: 'Không tìm thấy sinh viên',    studentSummary: 'Tóm tắt sinh viên',    characterType: 'Loại tính cách',    completedQuizzes: 'Bài quiz đã hoàn thành',    latestScore: 'Điểm mới nhất',    oceanScores: 'Điểm OCEAN',    proposedApproach: 'Phương pháp đề xuất',    action1: 'Hành động 1',    action2: 'Hành động 2',    noQuizResults: 'Không có kết quả quiz',    quizSets: 'Bộ quiz',    comparedToLastWeek: 'So với tuần trước',    logicalAverage: 'Trung bình logic',    studentDistribution: 'Phân bố sinh viên',    noData: 'Không có dữ liệu',    generalApproach: 'Phương pháp chung',    oceanAverages: 'Trung bình OCEAN',    newClass: 'Lớp mới',    creating: 'Đang tạo...',    createClassFailed: 'Tạo lớp thất bại',    classInformationForm: 'Biểu mẫu thông tin lớp',    className: 'Tên lớp',    enterClassName: 'Nhập tên lớp',    teacherName: 'Giáo viên phụ trách',    enterTeacherName: 'Nhập tên giáo viên',    classDescription: 'Mô tả lớp',    enterClassDescription: 'Nhập mô tả lớp',    institution: 'Tổ chức',    enterInstitution: 'Nhập tổ chức',    addStudents: 'Thêm sinh viên',    addStudentByEmail: 'Thêm sinh viên bằng email',    enterEmailAddress: 'Nhập địa chỉ email',    addStudent: 'Thêm sinh viên',    addStudentByStudentId: 'Thêm sinh viên bằng mã sinh viên',    enterStudentId: 'Nhập mã sinh viên',    addedStudents: 'Sinh viên đã thêm',    updateClassSuccess: 'Cập nhật lớp thành công',    updateClassFailed: 'Cập nhật lớp thất bại',    studentsNotFound: 'Sinh viên không tìm thấy',    analysisNotFound: 'Không tìm thấy dữ liệu phân tích',    teacherProfile: 'Hồ sơ giáo viên',    signOut: 'Đăng xuất',    browse: 'Duyệt',    class: 'Lớp',    affiliation: 'Tổ chức',    language: 'Ngôn ngữ',    showing: 'đang hiển thị',    removeStudents: 'Xóa sinh viên',    removeStudentByEmail: 'Xóa sinh viên bằng email',    removeStudentByStudentId: 'Xóa sinh viên bằng mã sinh viên',    removeStudent: 'Xóa sinh viên',    removing: 'Đang xóa...',    studentRemovedSuccess: 'Xóa sinh viên thành công',    studentRemovedFailed: 'Xóa sinh viên thất bại',    removedStudentsCount: 'Số sinh viên đã xóa',    registerSuccess: 'Đăng ký thành công! Bạn sẽ được chuyển đến trang chủ.',    registerFailed: 'Đăng ký thất bại',    loginFailed: 'Đăng nhập thất bại',    loginSuccess: 'Đăng nhập thành công',    saveSuccess: 'Đã lưu thành công!',    saveFailed: 'Lưu thất bại!',    deleteSuccess: 'Đã xóa thành công',    deleteFailed: 'Xóa thất bại',    updateSuccess: 'Cập nhật thành công',    updateFailed: 'Cập nhật thất bại',    createSuccess: 'Tạo thành công',    createFailed: 'Tạo thất bại',    loadFailed: 'Tải dữ liệu thất bại',    submitSuccess: 'Nộp bài thành công',    submitFailed: 'Nộp bài thất bại',    accountDeleted: 'Đã xóa tài khoản',    accountDeleteFailed: 'Xóa tài khoản thất bại',    imageUploadOnly: 'Chỉ có thể tải lên file ảnh',    imageSizeLimit: 'Kích thước file phải nhỏ hơn 5MB',    imageReadFailed: 'Không thể đọc file ảnh',    imageDeleted: 'Đã xóa ảnh thành công',    imageDeleteFailed: 'Xóa ảnh thất bại',    quizLoadFailed: 'Tải bài kiểm tra thất bại',    quizSubmitFailed: 'Nộp bài kiểm tra thất bại',    resultNotFound: 'Không tìm thấy kết quả',    aiRecommendationGenerated: 'Đã tạo gợi ý AI!',    aiRecommendationFailed: 'Tạo gợi ý AI thất bại',    studentIdRequired: 'Vui lòng nhập MSSV',    nameRequired: 'Vui lòng nhập tên',    genderRequired: 'Vui lòng chọn giới tính',    passwordRequired: 'Mật khẩu là bắt buộc',    confirmPasswordRequired: 'Xác nhận mật khẩu là bắt buộc',    passwordsNotMatch: 'Mật khẩu không khớp',    emailRequired: 'Email là bắt buộc',    unknownError: 'Có lỗi xảy ra',    authenticationFailed: 'Xác thực thất bại',    noTokenReceived: 'Không nhận được token',    failedToGetUserInfo: 'Không thể lấy thông tin người dùng',    googleLoginFailed: 'Đăng nhập Google thất bại',    registrationCompleted: 'Đăng ký hoàn tất',    registrationFailed: 'Đăng ký thất bại',    emailFormatInvalid: 'Định dạng email không hợp lệ. Phải bao gồm @',    passwordMinLength: 'Mật khẩu phải có ít nhất 6 ký tự',  },};const LanguageContext = createContext<LanguageContextType | undefined>(undefined);export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {  const [language, setLanguage] = useState<Language>('ja');  const t = (key: string): string => {    return translations[language][key as keyof typeof translations['ja']] || key;  };  return (    <LanguageContext.Provider value={{ language, setLanguage, t }}>      {children}    </LanguageContext.Provider>  );};export const useLanguage = () => {  const context = useContext(LanguageContext);  if (context === undefined) {    throw new Error('useLanguage must be used within a LanguageProvider');  }  return {    ...context,    language: context.language, 
  };};