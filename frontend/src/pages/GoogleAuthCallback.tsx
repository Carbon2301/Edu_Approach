import { useEffect } from 'react';import { useNavigate, useSearchParams } from 'react-router-dom';import { useLanguage } from '../contexts/LanguageContext';import { api, storage } from '../services/api';import Logo from '../components/Logo';const GoogleAuthCallback = () => {  const navigate = useNavigate();  const [searchParams] = useSearchParams();  const { t } = useLanguage();  useEffect(() => {    const token = searchParams.get('token');    const errorMessage = searchParams.get('message');    if (errorMessage) {      navigate(`/auth/error?message=${encodeURIComponent(errorMessage)}`);      return;    }    if (token) {      storage.setItem('token', token);      api.getCurrentUser()        .then((result) => {          if (result.success && result.data?.user) {            const user = result.data.user;            if (user.role === 'teacher') {              navigate('/teacher/home');            } else {              navigate('/dashboard');            }          } else {            navigate(`/auth/error?message=${encodeURIComponent(t('failedToGetUserInfo'))}`);          }        })        .catch((err) => {          navigate(`/auth/error?message=${encodeURIComponent(err.message || t('authenticationFailed'))}`);        });    } else {      navigate(`/auth/error?message=${encodeURIComponent(t('noTokenReceived'))}`);    }  }, [searchParams, navigate]);  return (    <div className="min-h-screen bg-gray-50 flex items-center justify-center">      <div className="text-center">        <Logo size={60} showText={true} />        <div className="mt-8">          <div className="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"></div>          <p className="mt-4 text-gray-600">{t('loading')}</p>        </div>      </div>    </div>  );};export default GoogleAuthCallback;