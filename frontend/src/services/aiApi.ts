const API_BASE_URL = 'http://localhost:5000/api';interface ApiResponse<T> {  success: boolean;  message?: string;  data?: T;}import { storage } from './api';class AIApiService {  private getToken(): string | null {    return storage.getItem('token');  }  private getHeaders() {    const token = this.getToken();    return {      'Content-Type': 'application/json',      ...(token && { 'Authorization': `Bearer ${token}` }),    };  }  async generateRecommendations(): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/ai/recommendations`, {        method: 'POST',        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to generate recommendations');      }      return result;    } catch (error: any) {      console.error('Generate recommendations error:', error);      return {        success: false,        message: error.message || 'Failed to generate recommendations',      };    }  }  async getRecommendations(): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/ai/recommendations`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to get recommendations');      }      return result;    } catch (error: any) {      console.error('Get recommendations error:', error);      return {        success: false,        message: error.message || 'Failed to get recommendations',      };    }  }  async checkStatus(): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/ai/recommendations/status`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to check status');      }      return result;    } catch (error: any) {      console.error('Check status error:', error);      return {        success: false,        message: error.message || 'Failed to check status',      };    }  }  async generateSingleQuizRecommendations(resultId: string): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/ai/recommendations/single/${resultId}`, {        method: 'POST',        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to generate recommendations');      }      return result;    } catch (error: any) {      console.error('Generate single recommendations error:', error);      return {        success: false,        message: error.message || 'Failed to generate recommendations',      };    }  }  async generateTeachingRecommendations(classId: string, studentId: string): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/ai/teaching-recommendations/${classId}/${studentId}`, {        method: 'POST',        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to generate teaching recommendations');      }      return result;    } catch (error: any) {      console.error('Generate teaching recommendations error:', error);      return {        success: false,        message: error.message || 'Failed to generate teaching recommendations',      };    }  }  async generateClassTeachingRecommendations(classId: string): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/ai/teaching-recommendations/class/${classId}`, {        method: 'POST',        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to generate class teaching recommendations');      }      return result;    } catch (error: any) {      console.error('Generate class teaching recommendations error:', error);      return {        success: false,        message: error.message || 'Failed to generate class teaching recommendations',      };    }  }}export const aiApi = new AIApiService();