const API_BASE_URL = 'http://localhost:5000/api';interface QuizAnswer {  questionId: string;  selectedAnswer: number;}interface ApiResponse<T> {  success: boolean;  message?: string;  data?: T;}import { storage } from './api';class QuizApiService {  private getToken(): string | null {    return storage.getItem('token');  }  private getHeaders() {    const token = this.getToken();    return {      'Content-Type': 'application/json',      ...(token && { 'Authorization': `Bearer ${token}` }),    };  }  async getAllQuizzes(): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/quizzes`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to get quizzes');      }      return result;    } catch (error: any) {      console.error('Get quizzes error:', error);      return {        success: false,        message: error.message || 'Failed to get quizzes',      };    }  }  async getQuizById(quizId: string): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/quizzes/${quizId}`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to get quiz');      }      return result;    } catch (error: any) {      console.error('Get quiz error:', error);      return {        success: false,        message: error.message || 'Failed to get quiz',      };    }  }  async getQuizQuestions(quizId: string): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/quizzes/${quizId}/questions`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to get questions');      }      return result;    } catch (error: any) {      console.error('Get questions error:', error);      return {        success: false,        message: error.message || 'Failed to get questions',      };    }  }  async submitQuiz(quizId: string, answers: QuizAnswer[]): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/quizzes/${quizId}/submit`, {        method: 'POST',        headers: this.getHeaders(),        body: JSON.stringify({ answers }),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to submit quiz');      }      return result;    } catch (error: any) {      console.error('Submit quiz error:', error);      return {        success: false,        message: error.message || 'Failed to submit quiz',      };    }  }  async getQuizResult(quizId: string): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/quizzes/${quizId}/result`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to get result');      }      return result;    } catch (error: any) {      console.error('Get result error:', error);      return {        success: false,        message: error.message || 'Failed to get result',      };    }  }  async getAllUserResults(): Promise<ApiResponse<any>> {    try {      const response = await fetch(`${API_BASE_URL}/quizzes/results/all`, {        headers: this.getHeaders(),      });      const result = await response.json();      if (!response.ok) {        throw new Error(result.message || 'Failed to get results');      }      return result;    } catch (error: any) {      console.error('Get all results error:', error);      return {        success: false,        message: error.message || 'Failed to get results',      };    }  }}export const quizApi = new QuizApiService();export type { QuizAnswer, ApiResponse };